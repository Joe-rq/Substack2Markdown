# Substack 文章抓取命令记录

## susanstem1 (Entropy Control Theory)

### 博主信息
- **用户名**: @susanstem1
- **实际域名**: sstem.substack.com
- **自定义域名**: www.entropycontroltheory.com
- **主题**: Language as System Design

### 抓取命令

```bash
# 激活虚拟环境
source venv/bin/activate

# 抓取免费文章
python3 substack_scraper.py --url https://sstem.substack.com --directory ./output

# 抓取付费文章(需要先配置 config.py)
python3 substack_scraper.py --url https://sstem.substack.com --directory ./output --premium

# 只抓取最新 N 篇文章
python3 substack_scraper.py --url https://sstem.substack.com --directory ./output --number 10
```

### 抓取结果
- **抓取时间**: 2025-11-02
- **免费文章**: 56 篇
- **付费文章**: 10 篇(需订阅)
- **保存位置**:
  - Markdown: `./output/sstem/`
  - HTML: `substack_html_pages/sstem/`

---

## 使用说明

### 首次使用前准备
```bash
# 1. 创建虚拟环境
python3 -m venv venv

# 2. 激活虚拟环境
source venv/bin/activate  # macOS/Linux
# 或
.\venv\Scripts\activate  # Windows

# 3. 安装依赖
pip install -r requirements.txt
```

### 抓取付费内容配置
编辑 `config.py` 文件:
```python
EMAIL = "your-email@domain.com"
PASSWORD = "your-password"
```

### 注意事项
- 用户名和实际域名可能不同(如 @susanstem1 实际是 sstem.substack.com)
- 可以从文章 URL 中提取正确的域名
- 付费内容需要有效的订阅账号

### 增量抓取
**好消息**: 工具支持智能去重!
- ✅ 已存在的文件会自动跳过
- ✅ 只下载新发布的文章
- ✅ 可以定期重新运行同样的命令来抓取更新

示例:
```bash
# 第一次运行: 下载所有 56 篇文章
python3 substack_scraper.py --url https://sstem.substack.com --directory ./output

# 一个月后再运行: 只下载新增的文章,旧文章会被跳过
python3 substack_scraper.py --url https://sstem.substack.com --directory ./output
```

### ⚠️ 重要警告: 文件名问题
工具通过**文件路径**来判断是否已下载,所以:

❌ **千万不要重命名已下载的文件!**
- 如果改了文件名,工具会认为该文章未下载
- 再次运行时会重新下载,产生重复文件

**推荐做法:**
- 保持 `./output/sstem/` 原始目录不动
- 如需整理文章,**复制**到其他目录再重命名
- 或者抓取后立即复制备份,原始文件保持原样
